<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<link rel="stylesheet" th:href="@{/back-end/emp_Index/css/emp_Index.css}">
<link rel="stylesheet" th:href="@{/back-end/07/css/listAll.css}">
<link rel="stylesheet" th:href="@{/back-end/07/css/data_table.css}">

<title>場地訂單</title>

</head>
<body>

<header class="header">
    <h1>【做伙後台管理系統】</h1>
    <p class="welcome">歡迎您 管理員</p>
    <nav>
      <ul>
        <li><a href="後台登入頁面.html">登出</a></li>
      </ul>
    </nav>
  </header>

  <aside class="aside">
    <nav class="nav">
      <div class="sidenav">
        <a th:href="@{/emp_Index}">首頁</a>
        <hr>
        <button class="dropdown-btn">員工管理
          <i class="fa fa-caret-down"></i>
        </button>
        <div class="dropdown-container">
          <a href="修改密碼頁面.html">修改密碼</a>
          <a href="員工資料管理首頁.html">員工資料管理</a>
        </div>
        <hr>
        <button class="dropdown-btn">一般功能管理
          <i class="fa fa-caret-down"></i>
        </button>
        <div class="dropdown-container">
          <a th:href="@{/back_end/announcement/ann_page}">公告管理</a>
          <a href="新增FAQ.html">FQA管理</a>
        </div>
        <hr>
        <button class="dropdown-btn">會員功能管理
          <i class="fa fa-caret-down"></i>
        </button>
        <div class="dropdown-container">
          <a th:href="@{/membership/select_page}">查詢會員</a>
          <a th:href="@{/back_end/notify/notify_page}">會員通知管理</a>
          <a href="#">審核會員檢舉</a>
        </div>
        <hr>
        <button class="dropdown-btn">活動功能管理
          <i class="fa fa-caret-down"></i>
        </button>
        <div class="dropdown-container">
          <a href="#">審核活動管理</a>
          <a href="#">審核留言管理</a>
        </div>
        <hr>
        <button class="dropdown-btn">場地功能管理
          <i class="fa fa-caret-down"></i>
        </button>
        <div class="dropdown-container">
          <a href="新增場地.html">場地管理</a>
          <a th:href="@{/back_end/ven-order/ven_order_page}">場地訂單管理</a>
          <a th:href="@{/back_end/ven-closed/ven_closed_date}">場地狀態管理</a>
        </div>
      </div>

    </nav>
  </aside>

<main class="main">
<nav class="navbar navbar-expand-md navbar-dark bg-success fixed-top">
         <div class="title"> 
              <div> <h2>場地訂單</h2></div>
<!--               <div> <h4><a class="navbar-brand" href='addVenOrder'>新增訂單</a></h4></div> -->
         </div>
</nav>

<table style="table-layout: automatic;" id="example" class="display">
        <thead>
            <tr>
                <th class="th_title">查看</th>
                <th class="th_title">租借狀態</th>
                <th class="th_title">訂單狀態</th>
                <th class="th_title">成立時間</th>
                <th class="th_title">場地</th>
                <th class="th_title">預約日期</th>
                <th class="th_title">會員帳號</th>
                <th class="th_title">手機號碼</th>
                <th class="th_title">場地訂金</th>
            </tr>
        </thead>
        <tbody>
            <th:block th:each="venOrderVO : ${venOrderListData}">
                <tr>       
                
                    <td>
                       <form method="post" th:action="@{getOne_For_Display}" style="margin-bottom: 0px;">
                            <input class="getOne-button" type="submit" value="查看">
                            <input type="hidden" name="venOrderId" th:value="${venOrderVO.venOrderId}">
                       </form>
                    </td>
                    
                         
	                <td th:if="${venOrderVO.orderStatus == 1 and venOrderVO.venRentStatus == 1}">
	                   <form method="post" th:action="@{checkIn}" style="margin-bottom: 0px;">
                            <input class="rentStatus-button" type="submit" value="Check in" style="width: 80px;">
                            <input type="hidden" name="venOrderId" th:value="${venOrderVO.venOrderId}">
                       </form>
	                </td>
	                <td th:if="${venOrderVO.orderStatus == 1 and venOrderVO.venRentStatus == 2}">
	                   <form method="post" th:action="@{checkOut}" style="margin-bottom: 0px;">
                            <input class="rentStatus-button" type="submit" value="Check out" style="width: 80px;">
                            <input type="hidden" name="venOrderId" th:value="${venOrderVO.venOrderId}">
                       </form>
	                </td>
	                <td th:if="${venOrderVO.orderStatus == 1 and venOrderVO.venRentStatus == 3}">
                       <form method="post" style="margin-bottom: 0px;">
                            <input class="rentStatus-button" type="submit" value="Done" style="width: 80px; pointer-events: none; background-color: WhiteSmoke; color: gray; border: none;">
                       </form>
                    </td>
	                <td th:if="${venOrderVO.orderStatus != 1}">
	                   <form method="post" style="margin-bottom: 0px;">
                            <input class="rentStatus-button" type="submit" value="Cancel" style="width: 80px; pointer-events: none; background-color: WhiteSmoke; color: gray; border: none;">
                       </form>
	                </td>
	                
	                <td th:if="${venOrderVO.orderStatus == 1}">
	                   <form method="post" style="margin-bottom: 0px;">
                            <input class="orderStatus-button" type="submit" value="已付款" style="width: 80px; pointer-events: none; background-color: WhiteSmoke; color: gray; border: none;">
                       </form>
	                </td>
	                <td th:if="${venOrderVO.orderStatus == 2}">
	                   <form method="post" th:action="@{cancelCheck}" style="margin-bottom: 0px;">
                            <input class="orderStatus-button" type="submit" value="已取消" style="width: 80px;">
                            <input type="hidden" name="venOrderId" th:value="${venOrderVO.venOrderId}">
                       </form>
	                </td>
	                <td th:if="${venOrderVO.orderStatus == 3}">
	                   <form method="post" th:action="@{refundCheck}" style="margin-bottom: 0px;">
                            <input class="orderStatus-button" type="submit" value="待退款" style="width: 80px;">
                            <input type="hidden" name="venOrderId" th:value="${venOrderVO.venOrderId}">
                       </form>
	                </td>
	                <td th:if="${venOrderVO.orderStatus == 4}">
	                   <form method="post" style="margin-bottom: 0px;">
                            <input class="orderStatus-button" type="submit" value="已退款" style="width: 80px; pointer-events: none; background-color: WhiteSmoke; color: gray; border: none;">
                       </form>
	                </td>
	                
	                <td th:text="${#dates.format(venOrderVO.orderTime, 'yyyy-MM-dd')}"></td>
	                <td th:text="${venOrderVO.venVO.venName}"></td>
	                <td th:text="${venOrderVO.orderDate}"></td>
	                <td th:text="${venOrderVO.memVO.memId+' / '+venOrderVO.memVO.memName}"></td>
	                <td th:text="${venOrderVO.memPhone}"></td>
	                <td th:text="${venOrderVO.venResFee}"></td>
	                
                </tr>
            </th:block>
        </tbody>
        <tfoot>
            <tr>
                <th class="th_title">查看</th>
                <th class="th_title">租借狀態</th>
                <th class="th_title">訂單狀態</th>
                <th class="th_title">成立時間</th>
                <th class="th_title">場地</th>
                <th class="th_title">預約日期</th>
                <th class="th_title">會員帳號</th>
                <th class="th_title">手機號碼</th>
                <th class="th_title">場地訂金</th>
            </tr>
        </tfoot>
    </table>
    
</main>


<script th:src="@{/back-end/07/js/jquery-3.7.0.js}"></script>
<script th:src="@{/back-end/emp_Index/js/emp_Index.js}"></script>
<script th:src="@{/back-end/07/js/data_table.js}"></script>
<script th:src="@{/back-end/07/js/data_table_menu.js}"></script>

</body>
</html>