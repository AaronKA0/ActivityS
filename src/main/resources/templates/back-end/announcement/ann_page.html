<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<link rel="stylesheet" th:href="@{/back-end/emp_Index/css/emp_Index.css}">
<link rel="stylesheet" th:href="@{/back-end/07/css/listAll.css}">
<link rel="stylesheet" th:href="@{/back-end/07/css/data_table.css}">

<title>公告管理</title>

<style>
.ellipsis {
        max-width: 200px; /* 設定最大寬度 */
        overflow: hidden; /* 超過寬度的部分隱藏 */
        text-overflow: ellipsis; /* 文字過長時顯示省略符號 */
        white-space: nowrap; /* 防止文字換行 */
    }
</style>

</head>
<body onload="showDivsBasedOnDeptno()">

    <!-- header -->
    <div th:insert="~{/back-end/emp_Index :: header-div}"></div>

     <!-- aside -->
    <div th:insert="~{/back-end/emp_Index :: aside-div}"></div>


<main class="main">
<nav class="navbar navbar-expand-md navbar-dark bg-success fixed-top">
         <div class="title"> 
              <div> <h2>公告總覽</h2></div>
              <div class="function">
                <div> <h4><a class="navbar-brand" href='addAnn'>新增公告</a></h4></div>
              </div>
         </div>
</nav>

<table style="table-layout: automatic;" id="example" class="display">
        <thead>
            <tr>
                <th class="th_title">查看</th>
                <th class="th_title">公告編號</th>
                <th class="th_title">公告時間</th>
                <th class="th_title">公告標題</th>
                <th class="th_title">公告內容</th>
            </tr>
        </thead>
        <tbody>
            <th:block th:each="announcementVO : ${annListData}">
                <tr>
                    <td>
                       <form method="post" th:action="@{getOne_For_Display}" style="margin-bottom: 0px;">
                            <input class="getOne-button" type="submit" value="查看">
                            <input type="hidden" name="annId" th:value="${announcementVO.annId}">
                       </form>
                    </td>
                    
                    <td th:text="${announcementVO.annId}"></td>
                    <td th:text="${#dates.format(announcementVO.annTime, 'yyyy-MM-dd HH:mm:ss')}"></td>
                    <td th:text="${announcementVO.annName}" class="ellipsis"></td>
                    <td th:text="${announcementVO.annDescr}" class="ellipsis"></td>
                    
                </tr>
            </th:block>
        </tbody>
        <tfoot>
            <tr>
                <th class="th_title">查看</th>
                <th class="th_title">公告編號</th>
                <th class="th_title">公告時間</th>
                <th class="th_title">公告標題</th>
                <th class="th_title">公告內容</th>
            </tr>
        </tfoot>
    </table>
    
    
</main>

<script th:src="@{/back-end/07/js/jquery-3.7.0.js}"></script>
<script th:src="@{/back-end/emp_Index/js/emp_Index.js}"></script>
<script th:src="@{/back-end/07/js/data_table.js}"></script>
<script th:src="@{/back-end/07/js/data_table_menu.js}"></script>

</body>
</html>