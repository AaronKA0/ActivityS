<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>新增個人貼文檢舉</title>

<!-- (彈窗顯示) -->
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>


<link rel="stylesheet"
	href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500&display=swap">

<!-- 引入 Bootstrap CSS 文件 -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
	crossorigin="anonymous">





<style>
main {
	min-height: calc(100vh - 70px);
	/* 設定 main 區域的最小高度，確保 footer 固定在底部 */
}

/* form {
            max-width: 400px;
            margin: 0 auto;
        } */
/*調整框框長度用*/
.form-group {
	margin-bottom: 20px;
}

ul {
	list-style-type: none;
	padding: 0;
	margin: 0;
}

p {
	margin-left: -480px;
	font-size: 18px;
}

#submit {
	border: 1px solid black;
	color: black;
	padding: 10px 10px;
	border-radius: 4px;
	cursor: pointer;
	font-size: 16px;
	width: 50%;
	background-color: white; /* 新增這一行，設定背景為白色 */
	margin-left: 25%;
}

#submit:hover {
	border: 1px solid #CFDFEF;
	background-color: #CFDFEF;
}

p.text-center {
	margin-left: 20px;
}

div#center {
	text-align: left;
	margin-left: 35%;
}

h3 {
	text-align: center;
}

form {
	margin-left: 20px;
	margin-top: 10px;
}


button#openInsertModalBtn {
	background-color: pink;
	border: 1px solid pink;
	margin-left: 45%;
	width: 130px;
	height: 90px;
}

/* img { */
/* 	width: 200px; */
/* 	margin-left: 140px; */
/* } */

/* div#text { */
/* 	margin-left: 120px; */
/* 	font-weight: bold; */
/* } */

#postId-error, #memId-error, #repTitle-error, #repContent-error {
	color: red;
	margin-left: 130px;
	font-size: 15px;
}
</style>

</head>

<body>


	<div class="container">
		<header
			class="d-flex flex-wrap align-items-center justify-content-center justify-content-md-between py-3 mb-4 border-bottom">
			<div class="col-md-3 mb-2 mb-md-0">
				<a href='select_page'
					class="d-inline-flex link-body-emphasis text-decoration-none">
					<span class="fs-4">做伙</span>
				</a>
			</div>


			<ul
				class="nav col-12 col-md-auto mb-2 justify-content-center mb-md-0">
				<li><a href="index.html" class="nav-link px-2 link-secondary">首頁</a></li>
				<li><a href="join.html" class="nav-link px-2 link-secondary">瀏覽活動</a></li>
				<li><a href="create.html" class="nav-link px-2 link-secondary">舉辦活動</a></li>
				<li><a href="rent.html" class="nav-link px-2 link-secondary">場地租借</a></li>
				<li><a href="customer.html"
					class="nav-link px-2 link-secondary">FAQs</a></li>
				<li><a href="about.html" class="nav-link px-2 link-secondary">關於我們</a></li>
			</ul>

			<div class="col-md-3 text-end">
				<button type="button" class="btn btn-outline-primary me-2">
					<a class="nav-link" href="#" data-bs-toggle="modal"
						data-bs-target="#loginModal">登入</a>
				</button>
				<button type="button" class="btn btn-primary">
					<a class="nav-link" href="register.html">註冊</a>
				</button>
			</div>
		</header>
	</div>


	<!-- -------------------------------------------------------------------------------------- -->

<!-- 	<main class="container mt-5"> -->
<!-- 		<h3> -->
<!-- 			<b>個人貼文檢舉</b> -->
<!-- 		</h3> -->
<!-- 		<br> -->
<!-- 		<div id="center"> -->

<!-- 			<form th:action="@{insert}" method="post" th:object="${postReportVO}" -->
<!-- 				enctype="multipart/form-data"> -->




<!-- 				<div> -->
<!-- 					<label>員工編號:<font color="red"><b>*</b></font></label> <input -->
<!-- 						type="text" th:field="*{empId}" value="2" -->
<!-- 						onclick="hideContent('empId.errors');" /><br /> <span -->
<!-- 						th:if="${#fields.hasErrors('empId')}" th:errors="*{empId}" -->
<!-- 						class="error" id="empId.errors"></span> -->
<!-- 				</div> -->
<!-- 				<br> -->






<!-- 				<div> -->
<!-- 					<label>個人貼文編號:<font color="red"><b>*</b></font></label> <input -->
<!-- 						type="text" th:field="*{postId}" /><br /> <span -->
<!-- 						th:if="${#fields.hasErrors('postId')}" th:errors="*{postId}" -->
<!-- 						class="error" id="postId.errors"></span><br> -->
<!-- 				</div> -->

<!-- 				<div> -->
<!-- 					<label>會員編號:<font color="red"><b>*</b></font></label> <input -->
<!-- 						type="text" th:field="*{memId}" /><br /> <span -->
<!-- 						th:if="${#fields.hasErrors('memId')}" th:errors="*{memId}" -->
<!-- 						class="error" id="memId.errors"></span><br> -->
<!-- 				</div> -->

<!-- 				<div> -->
<!-- 					<label>檢舉標題:<font color="red"><b>*</b></font></label> <input -->
<!-- 						type="text" th:field="*{repTitle}" /><br /> <span -->
<!-- 						th:if="${#fields.hasErrors('repTitle')}" th:errors="*{repTitle}" -->
<!-- 						class="error" id="repTitle.errors"></span><br> -->
<!-- 				</div> -->

<!-- 				<div> -->
<!-- 					<label>檢舉內容:<font color="red"><b>*</b></font></label> -->
<!-- 					<textarea id="repContent" th:field="*{repContent}" rows="4" -->
<!-- 						cols="50" style="resize: both;"></textarea> -->
<!-- 					<br /> <span th:if="${#fields.hasErrors('repContent')}" -->
<!-- 						th:errors="*{repContent}" class="error" id="repContent.errors"></span><br> -->
<!-- 				</div> -->



<!-- 				<div> -->
<!-- 					<label>檢舉圖片</label><input type="file" id="registerRepPic" -->
<!-- 						th:field="*{repPic}" onclick="previewImage()" multiple="multiple" /> -->
<!-- 					<span class="error" th:utext="${errorMessage}" id="repPic.errors"></span> -->
<!-- 					<br> <span class="error-message" id="repPic-error"></span> -->
<!-- 					<div id="blob_holder"></div> -->
<!-- 				</div> -->
<!-- 				<br> -->



<!-- 				<div> -->
<!-- 					<div></div> -->
<!-- 					<div> -->
<!-- 						<button type="submit" id="submit">送出新增</button> -->
<!-- 					</div> -->
<!-- 					<div></div> -->
<!-- 				</div> -->
<!-- 			</form> -->

<!-- 		</div> -->

<!-- 	</main> -->






	<!-- 新增貼文檢舉按鈕 -->
	<button type="button" class="btn btn-primary" id="openInsertModalBtn">新增貼文檢舉</button>



	<!-- 彈窗 -->
	<div class="modal fade" id="insertModal" tabindex="-1" role="dialog"
		aria-labelledby="insertModalLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">

				<div class="modal-header">
					<h3 class="modal-title" id="myModalLabel">貼文檢舉</h3>
				</div>

				<div class="modal-body">

					<form id="yourFormId" th:action="@{insert}" method="post"
						th:object="${postReportVO}" enctype="multipart/form-data">

						<!-- 				<div> -->
						<!-- 					<label>員工編號:<font color="red"><b>*</b></font></label> <input -->
						<!-- 						id="empId" type="text" th:field="*{empId}" value="2" -->
						<!-- 						onclick="hideContent('empId.errors');" /><br /> <span -->
						<!-- 						th:if="${#fields.hasErrors('empId')}" th:errors="*{empId}" -->
						<!-- 						class="error" id="empId.errors"></span> -->
						<!-- 				</div> -->
						<!-- 				<br> -->

						<div>
							<label>個人貼文編號<font color="red"><b>*</b></font></label> <input
								id="postId" type="text" th:field="*{postId}" /><br /> <span
								class="error" id="postId-error"></span><br>
						</div>

						<div>
							<label>會員編號<font color="red"><b>*</b></font></label> <input
								id="memId" type="text" th:field="*{memId}" /><br /> <span
								class="error" id="memId-error"></span><br>
						</div>


						<div>
							<label>檢舉標題<font color="red"><b>*</b></font></label> <input
								id="repTitle" type="text" th:field="*{repTitle}" /><br /> <span
								class="error" id="repTitle-error"></span><br>
						</div>

						<div>
							<label>檢舉內容<font color="red"><b>*</b></font></label>
							<textarea id="repContent" th:field="*{repContent}" rows="4"
								cols="50" style="resize: both;"></textarea>
							<br /> <span class="error" id="repContent-error"></span><br>
						</div>



						<div>
							<label>檢舉圖片</label><input type="file" id="registerRepPic"
								th:field="*{repPic}" onclick="previewImage()"
								multiple="multiple" /> <span class="error"
								th:utext="${errorMessage}" id="repPic.errors"></span> <br>
							<span class="error-message" id="repPic-error"></span><br>
							<div id="blob_holder"></div>
						</div>
						<br>

						<div>

							<div>
								<button type="submit" id="submit" class="btn btn-secondary">送出新增</button>
							</div>

						</div>
					</form>
				</div>

				<br>

			</div>
		</div>
	</div>


	<script>
		// 使用 jQuery 確保 DOM 已加載
		$(document).ready(function() {
			// 觸發按鈕點擊事件，顯示彈窗
			$("#openInsertModalBtn").click(function() {
				$("#insertModal").modal("show");
			});

			// 在送出新增按鈕點擊時，可以執行相應的 JavaScript 或 jQuery 代碼
			$("#submitInsert").click(function() {
				// 在這裡添加你想要的邏輯，例如驗證表單等
				console.log("Submit Insert Button Clicked!");
			});
		});
	</script>










	<!-- 提醒輸入輸入貼文檢舉的彈窗 -->
	<!-- 	<div class="modal fade" id="exampleModal" tabindex="-1" -->
	<!-- 		aria-labelledby="exampleModalLabel" aria-hidden="true"> -->
	<!-- 		<div class="modal-dialog"> -->
	<!-- 			<div class="modal-content"> -->
	<!-- 				<div class="modal-header"> -->
	<!-- 					<h5 class="modal-title" id="exampleModalLabel">提醒您</h5> -->
	<!-- 					<button type="button" class="btn-close" data-bs-dismiss="modal" -->
	<!-- 						aria-label="Close"></button> -->
	<!-- 				</div> -->
	<!-- 				<div class="modal-body"> -->
	<!-- 					<img th:src="@{/front-end/16/images/ZuoHuo1.png}"> <br> -->
	<!-- 					<div id="text">提醒您，貼文檢舉內容請填寫完整</div> -->
	<!-- 				</div> -->
	<!-- 				<div class="modal-footer"> -->
	<!-- 					<button type="button" class="btn btn-secondary" -->
	<!-- 						data-bs-dismiss="modal">確定</button> -->
	<!-- 				</div> -->
	<!-- 			</div> -->
	<!-- 		</div> -->
	<!-- 	</div> -->


	<script th:inline="javascript">
		// 		function validateForm() {
		// 			var postId = document.getElementById('postId').value;
		// 			var memId = document.getElementById('memId').value;
		// 			var repTitle = document.getElementById('repTitle').value;
		// 			var repContent = document.getElementById('repContent').value;

		// 			console.log('postId:', postId);
		// 			console.log('memId:', memId);
		// 			console.log('repTitle:', repTitle);
		// 			console.log('repContent:', repContent);

		// 			if (postId.trim() === '' || memId.trim() === ''
		// 					|| repTitle.trim() === '' || repContent.trim() === '') {
		// 				// 如果有任一欄位未輸入，顯示彈窗
		// 				$('#exampleModal').modal('show');
		// 				console.log('Form is not valid!');

		// 				return false;
		// 			}

		// 			// 如果所有欄位都已輸入，隱藏彈窗並執行其他邏輯
		// 			$('#exampleModal').modal('hide');
		// 			// $('#successModal').modal('show');  // 如果需要，可以根據需要顯示另一個彈窗
		// 			console.log('Form is valid!');
		// 			return true;
		// 		}
	</script>





	<!-- -------------------------------------------------------------------------------------- -->

	<div class="container">
		<footer class="py-3 my-4">
			<ul class="nav justify-content-center border-bottom pb-3 mb-3">
				<li class="nav-item"><a href="index.html"
					class="nav-link px-2 text-muted">首頁</a></li>
				<li class="nav-item"><a href="customer.html"
					class="nav-link px-2 text-muted">客服中心</a></li>
				<li class="nav-item"><a href="about.html"
					class="nav-link px-2 text-muted">關於我們</a></li>
			</ul>
			<p class="text-center text-muted">© 2023 Company, Inc</p>
		</footer>
	</div>

	<!-- 登入選項的Modal 彈窗 -->
	<!-- 	<div class="modal fade" id="loginModal" tabindex="-1" -->
	<!-- 		aria-labelledby="loginModalLabel" aria-hidden="true"> -->
	<!-- 		<div class="modal-dialog"> -->
	<!-- 			<div class="modal-content"> -->
	<!-- 				<div class="modal-header"> -->
	<!-- 					<h5 class="modal-title" id="loginModalLabel">會員登入</h5> -->
	<!-- 					<button type="button" class="btn-close" data-bs-dismiss="modal" -->
	<!-- 						aria-label="Close"></button> -->
	<!-- 				</div> -->
	<!-- 				<div class="modal-body"> -->
	<!-- 					在這裡加入登入表單的 HTML 代碼 -->
	<!-- 					<form> -->
	<!-- 						登入表單的輸入欄位 -->
	<!-- 						<div class="mb-3"> -->
	<!-- 							<label for="username" class="form-label">帳號：</label> <input -->
	<!-- 								type="text" class="form-control" id="username" name="username" -->
	<!-- 								placeholder="輸入您的帳號" required> -->
	<!-- 						</div> -->
	<!-- 						<div class="mb-3"> -->
	<!-- 							<label for="password" class="form-label">密碼：</label> -->
	<!-- 							<div class="input-group"> -->
	<!-- 								<input type="password" class="form-control" id="password" -->
	<!-- 									name="password" placeholder="輸入您的密碼" required> -->
	<!-- 								在密碼輸入框右上方新增"忘記密碼"的連結 -->
	<!-- 								<a href="#" class="input-group-text" id="forgotPasswordLink">忘記密碼</a> -->
	<!-- 							</div> -->
	<!-- 						</div> -->
	<!-- 						登入按鈕 -->
	<!-- 						<button type="submit" class="btn btn-primary">登入</button> -->
	<!-- 					</form> -->

	<!-- 				</div> -->
	<!-- 			</div> -->
	<!-- 		</div> -->
	<!-- 	</div> -->



	<!-- ----------------------------引入文件--------------------------------- -->
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<!-- -----------------------------引入文件----------------------------------- -->
	<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>


	<!-- 引入 Bootstrap JavaScript 文件 -->
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
		crossorigin="anonymous"></script>

	<!-- -----------------------------引入文件----------------------------------- -->


	<!-- JavaScript part -->
	<script type="text/javascript">
		//清除提示信息
		// 		function hideContent(d) {
		// 			document.getElementById(d).style.display = "none";
		// 		}

		//照片上傳-預覽用
		var filereader_support = typeof FileReader != 'undefined';
		if (!filereader_support) {
			alert("No FileReader support");
		}
		acceptedTypes = {
			'image/png' : true,
			'image/jpeg' : true,
			'image/gif' : true
		};
		function previewImage() {

			var upfile1 = document.getElementById("registerRepPic");
			upfile1.addEventListener("change", function(event) {
				var files = event.target.files || event.dataTransfer.files;
				for (var i = 0; i < files.length; i++) {
					previewfile(files[i]);
				}
			}, false);

		}
		function previewfile(file) {
			if (filereader_support === true
					&& acceptedTypes[file.type] === true) {
				var reader = new FileReader();
				reader.onload = function(event) {
					var image = new Image();
					image.src = event.target.result;
					image.width = 180;
					// 					image.height =180;
					image.border = 0;
					if (blob_holder.hasChildNodes()) {
						blob_holder.removeChild(blob_holder.childNodes[0]);
					}
					blob_holder.appendChild(image);
				};
				reader.readAsDataURL(file);
				document.getElementById('submit').disabled = false;
			} else {
				blob_holder.innerHTML = "<div  style='text-align: left;'>"
						+ "● filename: "
						+ file.name
						+ "<br>"
						+ "● ContentTyp: "
						+ file.type
						+ "<br>"
						+ "● size: "
						+ file.size
						+ "bytes"
						+ "<br>"
						+ "● 上傳ContentType限制: <b> <font color=red>image/png、image/jpeg、image/gif </font></b></div>";
				document.getElementById('submit').disabled = true;
			}
		}
	</script>

	<script>
		// --------------------postId-------------------------
		$(document).ready(function() {
			$("#yourFormId").submit(function() {
				var postId = $("#postId").val();

				console.log('postId:', postId);

				if (postId.length < 1) {
					$("#postId-error").text("請輸入貼文編號").show();
					return false; // 阻止表單提交
				} else {
					$("#postId-error").hide();
					return true; // 允許表單提交
				}
			});
		});

		// --------------------memId-------------------------
		$(document).ready(function() {
			$("#yourFormId").submit(function() {
				var memId = $("#memId").val();

				console.log('memId:', memId);

				if (memId.length < 1) {
					$("#memId-error").text("請輸入會員編號").show();
					return false;
				} else {
					$("#memId-error").hide();
					return true;
				}
			});
		});

		// --------------------repTitle-------------------------
		$(document).ready(function() {
			$("#yourFormId").submit(function() {
				var repTitle = $("#repTitle").val();
				if (repTitle.length < 1) {
					$("#repTitle-error").text("請輸入檢舉標題").show();
					return false;
				} else {
					$("#repTitle-error").hide();
					return true;
				}
			});
		});

		// --------------------repContent-------------------------
		$(document).ready(function() {
			$("#yourFormId").submit(function() {
				var repContent = $("#repContent").val();
				if (repContent.length < 1) {
					$("#repContent-error").text("請輸入檢舉內容").show();
					return false;
				} else {
					$("#repContent-error").hide();
					return true;
				}
			});
		});
	</script>



</body>

</html>








