<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>忘記密碼</title>


<!-- 前台畫面header的引入文件-->
<link rel="stylesheet"
	href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500&display=swap">

<!-- 引入 Bootstrap CSS 文件 -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
	crossorigin="anonymous">
<!-- 前台畫面header的引入文件-->

<style>
main {
	min-height: calc(100vh - 70px);
	/* 設定 main 區域的最小高度，確保 footer 固定在底部 */
}

/* form {
            max-width: 400px;
            margin: 0 auto;
        } */
/*調整框框長度用*/
.form-group {
	margin-bottom: 20px;
}

.controls-float .form-control {
	transition: all 0.3s;
	padding: 0.5rem 0rem;
	width: 50%;
	font-size: 14px;
	border: none;
	border-bottom: 1px solid #DEDEDE;
	height: 40x;
	font-size: 18px;
	display: block; /* 設置為區塊元素，以便使用 margin:auto */
	margin: auto; /* 將左右邊距設置為auto，使其水平置中 */
	margin-top: 20px; /* 可選：設置頂部邊距以進行垂直置中，根據需要調整 */
}

ul {
	list-style-type: none;
	padding: 0;
	margin: 0;
}

#submit {
	border: 1px solid black;
	color: black;
	padding: 10px 10px;
	border-radius: 4px;
	cursor: pointer;
	font-size: 16px;
	width: 50%;
	background-color: white; /* 新增這一行，設定背景為白色 */
	display: block; /* 設置為區塊元素，以便使用 margin:auto */
	margin: auto; /* 將左右邊距設置為auto，使其水平置中 */
	margin-top: 20px; /* 可選：設置頂部邊距以進行垂直置中，根據需要調整 */
}

#submit:hover {
	border: 1px solid #CFDFEF;
	background-color: #CFDFEF;
}

a {
	color: black;
	font-size: 18px;
}

a#loginSection {
	text-decoration: none;
	font-size: 23px;
	font-weight: normal; /* 初始字体粗细 */
}

a#loginSection:hover, a#loginSection:active {
	text-decoration: underline; /* 鼠标悬停或点击时显示底线 */
	font-weight: bold; /* 鼠标悬停或点击时加粗字体 */
}

a#signupSection {
	text-decoration: none;
	font-size: 23px;
	font-weight: normal; /* 初始字体粗细 */
}

a#signupSection:hover, a#signupSection:active {
	text-decoration: underline; /* 鼠标悬停或点击时显示底线 */
	font-weight: bold; /* 鼠标悬停或点击时加粗字体 */
}

#center2 {
	margin-left: 40%;
}

#forgetpassword {
	margin-left: 70%;
	text-decoration: none;
	border: 1px solid rgb(211, 206, 206);
	padding: 6px 6px;
	font-size: 15px;
}

#forgetpassword:hover {
	margin-left: 70%;
	text-decoration: none;
	padding: 6px 6px;
	font-size: 15px;
	background-color: rgb(224, 220, 220);
	color: rgb(249, 249, 249);
}

h6 {
	margin-left: 25%;
	font-weight: bold;
	text-decoration: underline;
}

.error-message {
	color: red;
	font-size: 16px;
	display: none;
	margin-left: 43%;
}

error {
	color: red;
}

button.btn.btn-secondary {
	border: 1px solid black;
	color: black;
	padding: 10px 10px;
	border-radius: 4px;
	cursor: pointer;
	font-size: 16px;
	width: 50%;
	background-color: white; /* 新增這一行，設定背景為白色 */
	display: block; /* 設置為區塊元素，以便使用 margin:auto */
	margin: auto; /* 將左右邊距設置為auto，使其水平置中 */
	margin-top: 20px; /* 可選：設置頂部邊距以進行垂直置中，根據需要調整 */
}

button.btn.btn-secondary:hover {
	border: 1px solid #CFDFEF;
	background-color: #CFDFEF;
}

div.modal-body {
	margin-left: 35%;
	font-weight: bold;
}

span#error {
	color: red;
	margin-left: 43%;
}

span#success {
	color: red;
	margin-left: 40%;
	font-size: 20px;
	font-weight: bold;
}

img#text {
	width: 180px;
	margin-left: -40px;
}

a#updatepassword {
	margin-left: 450px;
}

div#text {
	margin-left: -15px;
}
</style>
</head>

<body>


	<div class="container">
		<header
			class="d-flex flex-wrap align-items-center justify-content-center justify-content-md-between py-3 mb-4 border-bottom">
			<div class="col-md-3 mb-2 mb-md-0">
				<a href='select_page'
					class="d-inline-flex link-body-emphasis text-decoration-none">
					<span class="fs-4"><img alt="ZuoHuo"
						src="/front-end/16/images/ZuoHuo4.jpg" width="160px"></span>
				</a>
			</div>


			<ul
				class="nav col-12 col-md-auto mb-2 justify-content-center mb-md-0">
				<li><a th:href="@{/membership/ZuoHuo}"
					class="nav-link px-2 link-secondary">首頁</a></li>
				<li><a th:href="@{/act/joinAct}"
					class="nav-link px-2 link-secondary">瀏覽活動</a></li>
				<li><a th:href="@{/act/createAct}"
					class="nav-link px-2 link-secondary">舉辦活動</a></li>
				<li><a th:href="@{/front_end/venue/browse}"
					class="nav-link px-2 link-secondary">場地租借</a></li>
				<li><a th:href="@{/faq/faqs}"
					class="nav-link px-2 link-secondary">FAQs</a></li>
				<li><a th:href="@{/faq/faqs}"
					class="nav-link px-2 link-secondary">關於我們</a></li>
			</ul>

			<div class="col-md-3 text-end">
				<button type="button" class="btn btn-outline-primary me-2">
					<a class="nav-link" th:href="@{/membership/logging}">登入</a>
				</button>
				<button type="button" class="btn btn-primary">
					<a class="nav-link" th:href="@{/membership/addMembership}">註冊</a>
				</button>
			</div>
		</header>
	</div>

	<!-- ------------------------------------------------------------ -->

	<main class="container mt-5">
		<div id="center">
			<form id="yourFormId" th:action="@{forgetpassword}" method="post"
				th:object="${membershipVO}" enctype="multipart/form-data"
				onsubmit="return validateForm();">
				<h6>忘記密碼</h6>
				<ul>

					<li class="controls-float"><label class="title"
						for="registerMemEmail"></label> <input class="form-control text"
						id="registerMemEmail" type="text" placeholder=" 請輸入信箱 "
						autocomplete="off" name="memEmail" /> <span class="error-message"
						id="memEmail-error"></span><span id="memEmail-error2"></span></li>

				</ul>


				<span id="error" th:text="${error}"></span>

				<button type="submit" id="submit" class="btn btn-primary">下一步</button>

				<!-- 				<a id="updatepassword" href='updatepassword'>拿到驗證碼後更改密碼--->
				</a>

				<!-- 提醒輸入會員的彈窗 -->
				<div class="modal fade" id="exampleModal" tabindex="-1"
					aria-labelledby="exampleModalLabel" aria-hidden="true">
					<div class="modal-dialog">
						<div class="modal-content">
							<div class="modal-header">
								<h5 class="modal-title" id="exampleModalLabel">提醒您</h5>
								<button type="button" class="btn-close" data-bs-dismiss="modal"
									aria-label="Close"></button>
							</div>
							<div class="modal-body">
								<img id="text" th:src="@{/front-end/16/images/ZuoHuo1.png}">
								<br> 請輸入會員信箱!!
							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-secondary"
									data-bs-dismiss="modal">確定</button>
							</div>
						</div>
					</div>
				</div>

				<!-- 驗證碼更改成功的彈窗 -->
				<div class="modal fade" id="successModal" tabindex="-1"
					aria-labelledby="successModalLabel" aria-hidden="true">
					<div class="modal-dialog">
						<div class="modal-content">
							<div class="modal-header">
								<h5 class="modal-title" id="successModalLabel">提醒您</h5>
								<button type="button" class="btn-close" data-bs-dismiss="modal"
									aria-label="Close"></button>
							</div>
							<div class="modal-body">
								<img id="text" th:src="@{/front-end/16/images/ZuoHuo1.png}">
								<br>
								<div id="text">信件已發送，請查收!</div>
							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-secondary"
									data-bs-dismiss="modal">確定</button>
							</div>
						</div>
					</div>
				</div>

			</form>
		</div>
	</main>





	<!-- ------------------------------------------------------------ -->


	<div class="container">
		<footer class="py-3 my-4">
			<ul class="nav justify-content-center border-bottom pb-3 mb-3">
				<li class="nav-item"><a href="index.html"
					class="nav-link px-2 text-muted">首頁</a></li>
				<li class="nav-item"><a href="customer.html"
					class="nav-link px-2 text-muted">客服中心</a></li>
				<li class="nav-item"><a href="about.html"
					class="nav-link px-2 text-muted">關於我們</a></li>
			</ul>
			<p class="text-center text-muted">© 2023 Company, Inc</p>
		</footer>
	</div>

	<!-- 登入選項的Modal 彈窗 -->
	<!-- 	<div class="modal fade" id="loginModal" tabindex="-1" -->
	<!-- 		aria-labelledby="loginModalLabel" aria-hidden="true"> -->
	<!-- 		<div class="modal-dialog"> -->
	<!-- 			<div class="modal-content"> -->
	<!-- 				<div class="modal-header"> -->
	<!-- 					<h5 class="modal-title" id="loginModalLabel">會員登入</h5> -->
	<!-- 					<button type="button" class="btn-close" data-bs-dismiss="modal" -->
	<!-- 						aria-label="Close"></button> -->
	<!-- 				</div> -->
	<!-- 				<div class="modal-body"> -->
	<!-- 					在這裡加入登入表單的 HTML 代碼 -->
	<!-- 					<form> -->
	<!-- 						登入表單的輸入欄位 -->
	<!-- 						<div class="mb-3"> -->
	<!-- 							<label for="username" class="form-label">帳號：</label> <input -->
	<!-- 								type="text" class="form-control" id="username" name="username" -->
	<!-- 								placeholder="輸入您的帳號" required> -->
	<!-- 						</div> -->
	<!-- 						<div class="mb-3"> -->
	<!-- 							<label for="password" class="form-label">密碼：</label> -->
	<!-- 							<div class="input-group"> -->
	<!-- 								<input type="password" class="form-control" id="password" -->
	<!-- 									name="password" placeholder="輸入您的密碼" required> -->
	<!-- 								在密碼輸入框右上方新增"忘記密碼"的連結 -->
	<!-- 								<a href="#" class="input-group-text" id="forgotPasswordLink">忘記密碼</a> -->
	<!-- 							</div> -->
	<!-- 						</div> -->
	<!-- 						登入按鈕 -->
	<!-- 						<button type="submit" class="btn btn-primary">登入</button> -->
	<!-- 					</form> -->

	<!-- 				</div> -->
	<!-- 			</div> -->
	<!-- 		</div> -->
	<!-- 	</div> -->


	<!-- ----------------------------引入文件--------------------------------- -->
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<!-- ----------------------------引入文件--------------------------------- -->

	<!-- -----------------------------前台畫面引入文件----------------------------------- -->
	<!-- 引入 Bootstrap JavaScript 文件 -->
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
		crossorigin="anonymous"></script>
	<!-- -----------------------------前台畫面引入文件----------------------------------- -->



	<script>
		// ----------------------- 以下為memEmail帳號的判斷----------------------------
		$(document).ready(function() {
			$("#registerMemEmail").on("input", function() {
				var memEmail = $(this).val();
				var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

				if (!emailRegex.test(memEmail)) {
					$("#memEmail-error").text("請輸入有效的電子郵件地址").show();
				} else {
					$("#memEmail-error").hide();
				}
			});
		});

		// ------------------------------------------------------
		$(document).ready(function() {
			$("#yourFormId").submit(function() {
				var memAcc = $("#registerMemEmail").val();
				if (memAcc.length < 1) {
					$("#memEmail-error").text("請輸入信箱").show();
					return false; // 阻止表單提交
				} else {
					$("#memEmail-error").hide();
					return true; // 允許表單提交
				}
			});
		});
	</script>

	<!-- ----------------------按下一步時的彈窗(請輸入會員以及信件已經寄送成功)----------------------- -->

	<script th:inline="javascript">
		function validateForm() {
			var memEmail = document.getElementById('registerMemEmail').value;

			if (memEmail.trim() === '') {
				// 如果信箱未輸入，顯示請輸入會員的彈窗
				$('#exampleModal').modal('show');
				return false;
			}

			// 如果信箱已輸入，顯示信件已發送請查收的彈窗
			$('#exampleModal').modal('hide'); //隱藏#emampleModal彈窗
			$('#successModal').modal('show');
			return true;
		}
	</script>

</body>

</html>

