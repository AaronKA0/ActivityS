<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>會員個人資料修改</title>

<!-- 前台畫面header的引入文件-->
<link rel="stylesheet"
	href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500&display=swap">


<!-- 引入 Bootstrap CSS 文件 -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
	crossorigin="anonymous">
<!-- 前台畫面header的引入文件-->

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
          integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
          crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <link href="https://cdn.jsdelivr.net/npm/paginationjs@2.6.0/dist/pagination.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet"/>



<style>
#submit {
	border: 1px solid black;
	color: black;
	padding: 10px 10px;
	border-radius: 4px;
	cursor: pointer;
	font-size: 16px;
	width: 50%;
	background-color: white; /* 新增這一行，設定背景為白色 */
}

#submit:hover {
	border: 1px solid #CFDFEF;
	background-color: #CFDFEF;
}

div#memId {
	margin-right: 240px;
	font-size: 20px;
}

div#memAcc {
	margin-right: 240px;
	font-size: 20px;
}

.controls-float .form-control {
	transition: all 0.3s;
	padding: 0.5rem 0rem;
	width: 50%;
	font-size: 14px;
	border: none;
	border-bottom: 1px solid #DEDEDE;
	height: 40x;
	font-size: 18px;
}

ul {
	list-style-type: none;
	padding: 0;
	margin: 0;
}

#registerMemBirthdate {
	/* 	border: 2px solid red; */
	margin-left: -420px; /* 负值表示向左移动 */
}

#registerMemPic {
	/* 	border: 2px solid red; */
	margin-left: -240px; /* 负值表示向左移动 */
}

h6 {
	margin-left: -500px;
}
</style>


<style>
.error-message {
	color: red;
	font-size: 16px;
	display: none;
}

.error {
	margin-left: -50px;
	color: red;
	font-size: 16px;
}

#memAcc-error2 {
	color: red;
}

#memEmail-error2 {
	color: red;
}

#pk:focus {
	outline: none;
}

div#status {
	display: none;
}

/* 登入後側邊漢堡選單 */
.btn-primary {
    --bs-btn-color: #fff;
    --bs-btn-bg: #abb0b7;
    --bs-btn-border-color: #abb0b7;
    --bs-btn-hover-color: #fff;
    --bs-btn-hover-bg: #787a7d;
    --bs-btn-hover-border-color: #8f9093;
    --bs-btn-focus-shadow-rgb: 49,132,253;
    --bs-btn-active-color: #fff;
    --bs-btn-active-bg: #787a7d;
    --bs-btn-active-border-color: #787a7d;
    --bs-btn-active-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
    --bs-btn-disabled-color: #fff;
    --bs-btn-disabled-bg: #787a7d;
    --bs-btn-disabled-border-color: #787a7d;
}
</style>
</head>

<body>

<div style="width: 200px" class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasExample"
     aria-labelledby="offcanvasExampleLabel">
    <div class="offcanvas-body" style="padding: 0px; overflow-x: hidden">

        <div class="b-example-divider"></div>

        <div class="d-flex flex-column align-items-stretch flex-shrink-0 bg-white" style="width: 200px;">
            <a href="/member"
               class="d-flex align-items-center flex-shrink-0 p-3 link-dark text-decoration-none border-bottom">
                <svg class="bi me-2" width="30" height="24">
                    <use xlink:href="#bootstrap"/>
                </svg>
                <span class="fs-5 fw-semibold">會員首頁</span>
            </a>
            <div class="list-group list-group-flush border-bottom scrollarea">
                <a th:href="@{/member/chat}" class="list-group-item list-group-item-action py-3 lh-tight"
                   aria-current="true">
                    <div class="d-flex w-100 align-items-center justify-content-between">
                        <strong class="mb-1">聊天</strong>
                    </div>
                </a>
                <a th:href="@{/member/chat}" class="list-group-item list-group-item-action py-3 lh-tight"
                   aria-current="true">
                    <div class="d-flex w-100 align-items-center justify-content-between">
                        <strong class="mb-1">通知</strong>
                    </div>
                </a>
                <a th:href="@{/member/venOrder}" class="list-group-item list-group-item-action py-3 lh-tight"
                   aria-current="true">
                    <div class="d-flex w-100 align-items-center justify-content-between">
                        <strong class="mb-1">場地預訂</strong>
                    </div>
                </a>
            </div>
        </div>

        <div class="b-example-divider"></div>

    </div>
</div>


	<div class="container">
		<header class="d-flex flex-wrap align-items-center justify-content-center justify-content-md-between py-3 mb-4 border-bottom">
			
			<div class="after-logging" th:if="${session.memId ne null}">
            <button class="btn btn-primary fa fa-bars" type="button" data-bs-toggle="offcanvas"
                    data-bs-target="#offcanvasExample" aria-controls="offcanvasExample"></button>
        </div>
			
			<div class="col-md-3 mb-2 mb-md-0">
				<a href='select_page'
					class="d-inline-flex link-body-emphasis text-decoration-none">
					<span class="fs-4"><img alt="ZuoHuo" src="/front-end/16/images/ZuoHuo4.jpg" width="160px" ></span>
				</a>
			</div>


			<ul
				class="nav col-12 col-md-auto mb-2 justify-content-center mb-md-0">
				<li><a th:href="@{/membership/ZuoHuo}" class="nav-link px-2 link-secondary">首頁</a></li>
				<li><a href="join.html" class="nav-link px-2 link-secondary">瀏覽活動</a></li>
				<li><a href="create.html" class="nav-link px-2 link-secondary">舉辦活動</a></li>
				<li><a href="rent.html" class="nav-link px-2 link-secondary">場地租借</a></li>
				<li><a th:href="@{/faq/faqs}" 
					class="nav-link px-2 link-secondary">FAQs</a></li>
				<li><a th:href="@{/faq/faqs}"  class="nav-link px-2 link-secondary">關於我們</a></li>
			</ul>

			        <div class="col-md-3 text-end">

            <!-- 這邊放會員登入後的選項 -->
            <div class="after-logging" th:if="${session.memId ne null}">
                <i class="icon bi bi-messenger" style="font-size: 25px; margin: 20px; color: #6161f2;"></i>

                <!-- -------------------- 通知訊息功能 下拉選單 -------------------- -->
                <i class="icon bi bi-bell-fill" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false" style="font-size: 25px; color: #eded1e;" ></i>
            
	            <ul id="notify_ul" class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
	                <li id="notify_a1"></li>
	                <li id="notify_a2"></li>
	                <li id="notify_a3"></li>
	                <li><a id="display_all" class="dropdown-item" th:href="@{front_end/notify}">顯示全部</a></li>
	            </ul>   
                <!-- -------------------- 通知訊息功能 下拉選單 END -------------------- -->

                <!-- class拿掉dropdown-toggle 有問題再加回來 -->
                <i class="icon bi bi-person-circle" id="dropdownMenuLink"
                   type="button" data-bs-toggle="dropdown" aria-expanded="false"
                   style="font-size: 40px; margin: 20px;"></i>

                <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                    <li><a class="dropdown-item" th:href="@{/membership/getOne_For_Update}">個人資料</a></li>
                    <li><a id="SignOut" class="dropdown-item" href="#">登出</a></li>
                </ul>

            </div>

<!--             <div class="after-logging" th:unless="${session.memId ne null}"> -->
<!--                 <button type="button" class="btn btn-outline-primary me-2"> -->
<!--                     <a class="nav-link" th:href="@{/membership/logging}">登入</a> -->
<!--                 </button> -->
<!--                 <button type="button" class="btn btn-primary"> -->
<!--                     <a class="nav-link" href="register.html">註冊</a> -->
<!--                 </button> -->
<!--             </div> -->
        </div>
		</header>
	</div>

	<!-- -------------------------------------------------------------------------------------- -->

	<main class="container mt-5">

		<div align="center" th:fragment="update_membership_input-div">

			<form id="yourFormId" th:action="@{update}" method="post"
				th:object="${membershipVO}" enctype="multipart/form-data">

				<h4>個人資料修改</h4>

				<div id="memId" style="display: none;">
					<label>會員編號:</label> <input id="pk" type="text" th:field="*{memId}"
						style="border: 0px; font-weight: bold;" readonly /><br />
				</div>
				<br>
				<div id="memAcc">
					<label>會員帳號:</label> <input type="text" th:field="*{memAcc}"
						style="border: 0px; font-weight: bold;" readonly /><br />
				</div>

				<ul>

					<li class="controls-float"><label class="title"
						for="registerMemEmail"></label> <input class="form-control text"
						id="registerMemEmail" type="text" placeholder="電子信箱(必填)"
						autocomplete="off" name="memEmail" th:field="*{memEmail}"
						onclick="hideContent('memEmail.errors');" /> <span
						class="error-message" id="memEmail-error"></span><span
						id="memEmail-error2"></span></li>

					<li class="controls-float"><label class="title"
						for="registerMemPwd"></label> <input class="form-control text"
						id="registerMemPwd" type="password" placeholder="會員密碼(必填)"
						autocomplete="off" name="memPwd"
						onclick="hideContent('memPwd.errors');" /> <span
						class="error-message" id="memPwd-error"></span></li>


					<li class="controls-float"><label class="title"
						for="registerMemName"></label> <input class="form-control text"
						id="registerMemName" type="text" placeholder="姓名(必填)"
						autocomplete="off" name="memName" th:field="*{memName}"
						onclick="hideContent('memName.errors');" /><span
						class="error-message" id="memName-error"></span></li>

					<li class="controls-float"><label class="title"
						for="registerMemUsername"></label> <input
						class="form-control text" id="registerMemUsername" type="text"
						placeholder="使用者名稱(必填)" autocomplete="off" name="memUsername"
						th:field="*{memUsername}"
						onclick="hideContent('memUsername.errors');" /><span
						class="error-message" id="memUsername-error"></span></li>

					<li class="controls-float"><label class="title"
						for="registerMemPhone"></label> <input class="form-control text"
						id="registerMemPhone" type="text" placeholder="手機號碼"
						autocomplete="off" name="memPhone" th:field="*{memPhone}"
						onclick="hideContent('memPhone.errors');" /> <span
						class="error-message" id="memPhone-error"></span></li>

					<li class="controls-float"><label class="title"
						for="registerMemIntro"></label> <input class="form-control text"
						id="registerMemIntro" type="text" placeholder="自我介紹"
						autocomplete="off" name="memIntro" th:field="*{memIntro}"
						onclick="hideContent('memIntro.errors');" /></li>

					<li class="controls-float"><label class="title"
						for="registerMemGender"></label> <select class="form-control"
						id="registerMemGender" name="memGender">
							<option value="1" th:selected="${membershipVO.memGender == 1}">性別(必填)
								:女</option>
							<option value="2" th:selected="${membershipVO.memGender == 2}">性別(必填)
								:男</option>
					</select> <span class="error-message" id="memGender-error"></span></li>

					<br>

					<h6>會員生日:</h6>
					<li class="controls-float"><label class="title"
						for="registerMemBirthdate"></label> <input type="date"
						id="registerMemBirthdate" th:field="*{memBirthdate}"
						onclick="hideContent('memBirthdate.errors');" /> <span
						class="error" th:if="${#fields.hasErrors('memBirthdate')}"
						th:errors="*{memBirthdate}" id="memBirthdate-errors"></span><br>
						<span class="error-message" id="memBirthdate-error"></li>
					<br>


					<h6>會員圖片:</h6>
					<li class="controls-float"><label class="title"
						for="registerMemPic"></label><input type="file"
						id="registerMemPic" th:field="*{memPic}" onclick="previewImage()"
						multiple="multiple" onchange="hideContent('memPic.errors');" /> <span
						class="error" th:utext="${errorMessage}" id="memPic.errors"></span>
						<br> <span class="error-message" id="memPic-error"></span>
						<div id="blob_holder">
							<img
								th:src="@{/membership/DBGifReader} + '?memId=' + ${membershipVO.memId}"
								width="200px">
						</div></li>
				</ul>


				<!-- -------------------------------已隱藏的會員狀態---------------------------------- -->

				<div id="status">
					<div>
						<label for="isAccEna">會員帳戶狀態:</label> <select id="isAccEna"
							name="isAccEna" th:value="${membershipVO.isAccEna}">
							<option value="1" th:selected="${membershipVO.isAccEna == 1}">已停用會員帳戶</option>
							<option value="2" th:selected="${membershipVO.isAccEna == 2}">沒有停用會員帳戶</option>
						</select>
					</div>

					<div>
						<label for="isPartEna">會員參加活動權限:</label> <select id="isPartEna"
							name="isPartEna" th:value="${membershipVO.isPartEna}">
							<option value="1" th:selected="${membershipVO.isPartEna == 1}">會員無法參加活動</option>
							<option value="2" th:selected="${membershipVO.isPartEna == 2}">會員可以參加活動</option>
						</select>
					</div>

					<div>
						<label for="isHostEna">會員舉辦活動權限:</label> <select id="isHostEna"
							name="isHostEna" th:value="${membershipVO.isHostEna}">
							<option value="1" th:selected="${membershipVO.isHostEna == 1}">會員無法舉辦活動</option>
							<option value="2" th:selected="${membershipVO.isHostEna == 2}">會員可以舉辦活動</option>
						</select>
					</div>

					<div>
						<label for="isRentEna">會員租借場地權限:</label> <select id="isRentEna"
							name="isRentEna" th:value="${membershipVO.isRentEna}">
							<option value="1" th:selected="${membershipVO.isRentEna == 1}">會員無法租借場地</option>
							<option value="2" th:selected="${membershipVO.isRentEna == 2}">會員可以租借場地</option>
						</select>
					</div>

					<div>
						<label for="isMsgEna">會員留言權限:</label> <select id="isMsgEna"
							name="isMsgEna" th:value="${membershipVO.isMsgEna}">
							<option value="1" th:selected="${membershipVO.isMsgEna == 1}">會員無法留言</option>
							<option value="2" th:selected="${membershipVO.isMsgEna == 2}">會員可以留言</option>
						</select>
					</div>
				</div>
				<!-- -------------------------------已隱藏的會員狀態---------------------------------- -->

				<br>
				<div>

					<div>
						<button type="submit" id="submit">送出修改</button>
					</div>

				</div>
			</form>
		</div>
	</main>

	<!-- -------------------------------------------------------------------------------------- -->

	<div class="container">
		<footer class="py-3 my-4">
			<ul class="nav justify-content-center border-bottom pb-3 mb-3">
				<li class="nav-item"><a href="index.html"
					class="nav-link px-2 text-muted">首頁</a></li>
				<li class="nav-item"><a href="customer.html"
					class="nav-link px-2 text-muted">客服中心</a></li>
				<li class="nav-item"><a href="about.html"
					class="nav-link px-2 text-muted">關於我們</a></li>
			</ul>
			<p class="text-center text-muted">© 2023 Company, Inc</p>
		</footer>
	</div>

	<!-- 登入選項的Modal 彈窗 -->
	<!-- 	<div class="modal fade" id="loginModal" tabindex="-1" -->
	<!-- 		aria-labelledby="loginModalLabel" aria-hidden="true"> -->
	<!-- 		<div class="modal-dialog"> -->
	<!-- 			<div class="modal-content"> -->
	<!-- 				<div class="modal-header"> -->
	<!-- 					<h5 class="modal-title" id="loginModalLabel">會員登入</h5> -->
	<!-- 					<button type="button" class="btn-close" data-bs-dismiss="modal" -->
	<!-- 						aria-label="Close"></button> -->
	<!-- 				</div> -->
	<!-- 				<div class="modal-body"> -->
	<!-- 					在這裡加入登入表單的 HTML 代碼 -->
	<!-- 					<form> -->
	<!-- 						登入表單的輸入欄位 -->
	<!-- 						<div class="mb-3"> -->
	<!-- 							<label for="username" class="form-label">帳號：</label> <input -->
	<!-- 								type="text" class="form-control" id="username" name="username" -->
	<!-- 								placeholder="輸入您的帳號" required> -->
	<!-- 						</div> -->
	<!-- 						<div class="mb-3"> -->
	<!-- 							<label for="password" class="form-label">密碼：</label> -->
	<!-- 							<div class="input-group"> -->
	<!-- 								<input type="password" class="form-control" id="password" -->
	<!-- 									name="password" placeholder="輸入您的密碼" required> -->
	<!-- 								在密碼輸入框右上方新增"忘記密碼"的連結 -->
	<!-- 								<a href="#" class="input-group-text" id="forgotPasswordLink">忘記密碼</a> -->
	<!-- 							</div> -->
	<!-- 						</div> -->
	<!-- 						登入按鈕 -->
	<!-- 						<button type="submit" class="btn btn-primary">登入</button> -->
	<!-- 					</form> -->

	<!-- 				</div> -->
	<!-- 			</div> -->
	<!-- 		</div> -->
	<!-- 	</div> -->



	<!-- -----------------------------引入文件----------------------------------- -->
	<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
	<!-- -----------------------------引入文件----------------------------------- -->

	<!-- -----------------------------前台畫面引入文件----------------------------------- -->
	<!-- 引入 Bootstrap JavaScript 文件 -->
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
		crossorigin="anonymous"></script>
	<!-- -----------------------------前台畫面引入文件----------------------------------- -->


	<script src="https://cdn.tiny.cloud/1/tus9t8o6mklmhwd5c0iaejn9394stnli5i0j2ic9bb4xurm0/tinymce/6/tinymce.min.js"
        referrerpolicy="origin"></script>
<script src="https://cdn.jsdelivr.net/npm/paginationjs@2.6.0/dist/pagination.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/dealfonso/power-buttons/dist/powerbuttons.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
	


	<!-- JavaScript part -->
	<script type="text/javascript">
		//清除提示信息
		function hideContent(d) {
			document.getElementById(d).style.display = "none";
		}



// 照片上傳-預覽用
var filereader_support = typeof FileReader != 'undefined';
if (!filereader_support) {
    alert("No FileReader support");
}

acceptedTypes = {
    'image/png': true,
    'image/jpeg': true,
    'image/gif': true
};

function previewImage() {
    var upfile1 = document.getElementById("registerMemPic");
    upfile1.addEventListener("change", function (event) {
        var files = event.target.files || event.dataTransfer.files;
        for (var i = 0; i < files.length; i++) {
            previewfile(files[i]);
        }
    }, false);
}

function previewfile(file) {
    var blob_holder = document.getElementById('blob_holder');

    if (filereader_support === true && acceptedTypes[file.type] === true) {
        var reader = new FileReader();
        reader.onload = function (event) {
            var image = new Image();
            image.src = event.target.result;
            image.width = 180;
            image.border = 2;

            // 清除先前的圖片
            blob_holder.innerHTML = '';

            // 將img元素添加到blob_holder中
            blob_holder.appendChild(image);
        };
        reader.readAsDataURL(file);
        document.getElementById('submit').disabled = false;
    } else {
        blob_holder.innerHTML = "<div  style='text-align: left;'>"
            + "● filename: "
            + file.name
            + "<br>"
            + "● ContentTyp: "
            + file.type
            + "<br>"
            + "● size: "
            + file.size
            + "bytes"
            + "<br>"
            + "● 上傳ContentType限制: <b> <font color=red>image/png、image/jpeg、image/gif </font></b></div>";
        document.getElementById('submit').disabled = true;
    }
}

	
		// --------------------- 以下為memAcc帳號的判斷------------------------

// 		$(document).ready(function() {
// 			$("#registerMemAcc").on("input", function() {
// 				var memAcc = $(this).val();
// 				if (memAcc.length < 5) {
// 					$("#memAcc-error").text("帳號長度至少為5個字").show();
// 				} else {
// 					$("#memAcc-error").hide();
// 				}
// 			});
// 		});
		
//        // ------------------------------------------------------
// 		$(document).ready(function() {
// 			$("#yourFormId").submit(function() {
// 				var memAcc = $("#registerMemAcc").val();
// 				if (memAcc.length < 1) {
// 					$("#memAcc-error").text("請輸入帳號").show();
// 					return false; // 阻止表單提交
// 				} else {
// 					$("#memAcc-error").hide();
// 					return true; // 允許表單提交
// 				}
// 			});
// 		});
		
// 		// ------------------------------------------------------
// 		$(document).ready(function() {
// 		    // 给输入框绑定input事件，当输入内容变化时触发检查
// 		    $("#registerMemAcc").on("input", function() {
// 		        checkMemAcc();
// 		    });
// 		});

// 		function checkMemAcc() {
// 		    var memAcc = $("#registerMemAcc").val();

// 		    fetch("/signup/checkMemAcc",{
// 		    	   method: "POST",
// 		    	   body: JSON.stringify({memAcc: memAcc})  //回傳的為body標籤
// 		    	  }).then(function(response){;
// 		    	   return response.json();
// 		    	  }).then(function(result){
		    		  		 
		    	
// 		    	   if(result != null){ 

// 		    	    $("#memAcc-error2").text("此帳號已使用過").show();
// 		    	    $("#memAcc-error2").data("show", true);
// 		    	    	$("#yourFormId").submit(function(){    /////////*******
// 		    	    		return false;
// 		    	    	});
// 		    	   } else{
// 		    	    $("#memAcc-error2").hide(); 
// 		    	    $("#memAcc-error2").data("show", false);
// 		    	   } 
// 		    	  }).catch(function(err){
// 		    	   $("#memAcc-error2").hide(); 
// 		    	   $("#memAcc-error2").data("show", false);
// 		    	  });
// 		}

		// ----------------------- 以下為memEmail帳號的判斷----------------------------
		$(document).ready(function() {
			$("#registerMemEmail").on("input", function() {
				var memEmail = $(this).val();
				var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

				if (!emailRegex.test(memEmail)) {
					$("#memEmail-error").text("請輸入有效的電子郵件地址").show();
				} else {
					$("#memEmail-error").hide();
				}
			});
		});

		// ------------------------------------------------------
		$(document).ready(function() {
			$("#yourFormId").submit(function() {
				var memAcc = $("#registerMemEmail").val();
				if (memAcc.length < 1) {
					$("#memEmail-error").text("請輸入信箱").show();
					return false; // 阻止表單提交
				} else {
					$("#memEmail-error").hide();
					return true; // 允許表單提交
				}
			});
		});
		
		// ------------------------------------------------------	
		$(document).ready(function() {
			// 輸入框綁定input事件，當輸入產生變化時檢查
		    $("#registerMemEmail").on("input", function() {
		        checkMemEmail();
		    });
		});
		
		function checkMemEmail() {
		    var memEmail = $("#registerMemEmail").val();

		    fetch("/membership/checkMemEmail",{
		    	   method: "POST",
		    	   body: JSON.stringify({memEmail: memEmail})  //回傳的為body標籤
		    	  }).then(function(response){;
		    	   return response.json();
		    	  }).then(function(result){
		    		  		    		   
		    	 		if(result != null){ 

		       	    $("#memEmail-error2").text("此信箱已使用過").show();
		       	    $("#memEmail-error2").data("show", true);
		       	   } else{
		       	    $("#memEmail-error2").hide(); 
		       	    $("#memEmail-error2").data("show", false);
		       	   } 
		       	  }).catch(function(err){
		       	   $("#memEmail-error2").hide(); 
		       	   $("#memEmail-error2").data("show", false);
		       	  });
		  }
		
		
		
		
		// ----------------------- 以下為memPwd密碼的判斷------------------------------
		$(document).ready(function() {
			$("#registerMemPwd").on("input", function() {
				var memPwd = $(this).val();
				if (memPwd.length < 8) {
					$("#memPwd-error").text("密碼長度至少為8個字").show();
				} else {
					$("#memPwd-error").hide();
				}
			});
		});
		
		// ------------------------------------------------------
		$(document).ready(function() {
			$("#yourFormId").submit(function() {
				var memPwd = $("#registerMemPwd").val();
				if (memPwd.length < 1) {
					$("#memPwd-error").text("請輸入密碼").show();
					return false; //阻止表單提交
				} else {
					$("#memPwd-error").hide();
					return true; //允許表單提交
				}
			});

		});

		// ----------------------- 以下為memPhone手機號碼的判斷------------------------------
		$(document).ready(function() {
			$("#registerMemPhone").on("input", function() {
				var memPhone = $(this).val();

				// 使用正規表示法，判斷是否只包含中文字
				var validPhone = /^\d{1,10}$/;
				if (!validPhone.test(memPhone)) {
					$("#memPhone-error").text("請輸入正確格式的手機號碼").show();
				} else {
					$("#memPhone-error").hide();
				}
			});
		});

		// ----------------------- 以下為memName姓名的判斷------------------------------
		$(document).ready(function() {
	// 輸入框時檢查
    $("#registerMemName").on("input", function() {
        var memName = $(this).val();
        if (memName.length >= 1) {
            $("#memName-error").hide();
        }
    });

 	// 表單提交時間檢查
    $("#yourFormId").submit(function() {
        var memName = $("#registerMemName").val();
        if (memName.length < 1) {
            $("#memName-error").text("請輸入姓名").show();
            return false; // 阻止表單提交
        } else {
            $("#memName-error").hide();
            return true; // 允許表單提交
        }
    });
});

		// --------------------- 以下為memUsername使用者姓名的判斷------------------------
		$(document).ready(function(){
			$("#registerMemUsername").on("input", function () {
				var memUsername = $(this).val();
				if(memUsername.length >= 1){
					$("#memUsername-error").hide();
				}
			});
		});
		
		$(document).ready(function() {
			$("#yourFormId").submit(function() {
// 				alert("submit");
				var memUsername = $("#registerMemUsername").val();
				if (memUsername.length < 1) {
					$("#memUsername-error").text("請輸入使用者名稱").show();
					return false; //阻止表單提交
				} else {
					$("#memUsername-error").hide();
					return true; //允許表單提交
				}
			});

		});
		
		// --------------------- 以下為memBirthdate生日的判斷------------------------
		
		$(document).ready(function () {
			// 提交表單時的處理
		    $("#yourFormId").submit(function () {
		        var memBirthdate = $("#registerMemBirthdate").val();
		        if (memBirthdate === "") {
		            $("#memBirthdate-error").text("請選擇出生日期").show();
		            return false; // 阻止提交表單
		        } else {
		            $("#memBirthdate-error").hide();
		            return true; // 允許表單提交
		        }
		    });
 
		    // 生日更改時的處理
		    $("#registerMemBirthdate").change(function () {
		        $("#memBirthdate-error").hide(); // 隐藏錯誤訊息
		    });
		});
			
	
	</script>

</body>

</html>

